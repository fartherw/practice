{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport createLogger from 'vuex/dist/logger';\nimport api from \"@/api\";\nVue.use(Vuex);\n//登录日志\nconst env = process.env.NODE_ENV,\n  plugins = [];\nif (env === 'development') {\n  plugins.push(createLogger());\n}\nexport default new Vuex.Store({\n  state: {\n    profile: null\n  },\n  getters: {},\n  mutations: {\n    setProfile(state, info) {\n      state.profile = info;\n    }\n  },\n  actions: {\n    async setProfileAsync({\n      commit\n    }) {\n      let info = null;\n      try {\n        let {\n          resultCode,\n          data\n        } = await api.adminProfile();\n        if (+resultCode === 200) {\n          //已经登录\n          info = data;\n          commit('setProfile', info);\n        }\n      } catch (_) {\n        console.log('错误：', _);\n      }\n      return info;\n    }\n  },\n  plugins\n});","map":{"version":3,"names":["Vue","Vuex","createLogger","api","use","env","process","NODE_ENV","plugins","push","Store","state","profile","getters","mutations","setProfile","info","actions","setProfileAsync","commit","resultCode","data","adminProfile","_","console","log"],"sources":["E:/北京珠峰练习/毕设/xinfeng-cms/src/store/index.js"],"sourcesContent":["import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport createLogger from 'vuex/dist/logger';\r\nimport api from \"@/api\"\r\n\r\n\r\nVue.use(Vuex)\r\n//登录日志\r\nconst env = process.env.NODE_ENV,\r\n  plugins = [];\r\nif (env === 'development') {\r\n  plugins.push(createLogger());\r\n}\r\n\r\nexport default new Vuex.Store({\r\n  state: {\r\n    profile: null\r\n  },\r\n  getters: {\r\n  },\r\n  mutations: {\r\n    setProfile(state, info) {\r\n      state.profile = info;\r\n    }\r\n  },\r\n  actions: {\r\n    async setProfileAsync({ commit }) {\r\n      let info = null;\r\n      try {\r\n        let { resultCode, data } = await api.adminProfile()\r\n        if (+resultCode === 200) {//已经登录\r\n          info = data;\r\n          commit('setProfile', info);\r\n        }\r\n\r\n      } catch (_) {\r\n        console.log('错误：', _);\r\n      }\r\n      return info;\r\n    }\r\n    \r\n  },\r\n  plugins\r\n})\r\n"],"mappings":";AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,IAAI,MAAM,MAAM;AACvB,OAAOC,YAAY,MAAM,kBAAkB;AAC3C,OAAOC,GAAG,MAAM,OAAO;AAGvBH,GAAG,CAACI,GAAG,CAACH,IAAI,CAAC;AACb;AACA,MAAMI,GAAG,GAAGC,OAAO,CAACD,GAAG,CAACE,QAAQ;EAC9BC,OAAO,GAAG,EAAE;AACd,IAAIH,GAAG,KAAK,aAAa,EAAE;EACzBG,OAAO,CAACC,IAAI,CAACP,YAAY,EAAE,CAAC;AAC9B;AAEA,eAAe,IAAID,IAAI,CAACS,KAAK,CAAC;EAC5BC,KAAK,EAAE;IACLC,OAAO,EAAE;EACX,CAAC;EACDC,OAAO,EAAE,CACT,CAAC;EACDC,SAAS,EAAE;IACTC,UAAU,CAACJ,KAAK,EAAEK,IAAI,EAAE;MACtBL,KAAK,CAACC,OAAO,GAAGI,IAAI;IACtB;EACF,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,eAAe,CAAC;MAAEC;IAAO,CAAC,EAAE;MAChC,IAAIH,IAAI,GAAG,IAAI;MACf,IAAI;QACF,IAAI;UAAEI,UAAU;UAAEC;QAAK,CAAC,GAAG,MAAMlB,GAAG,CAACmB,YAAY,EAAE;QACnD,IAAI,CAACF,UAAU,KAAK,GAAG,EAAE;UAAC;UACxBJ,IAAI,GAAGK,IAAI;UACXF,MAAM,CAAC,YAAY,EAAEH,IAAI,CAAC;QAC5B;MAEF,CAAC,CAAC,OAAOO,CAAC,EAAE;QACVC,OAAO,CAACC,GAAG,CAAC,KAAK,EAAEF,CAAC,CAAC;MACvB;MACA,OAAOP,IAAI;IACb;EAEF,CAAC;EACDR;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module"}