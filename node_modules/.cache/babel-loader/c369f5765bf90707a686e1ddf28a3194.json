{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport createLogger from 'vuex/dist/logger';\nimport api from \"@/api\";\nVue.use(Vuex);\n//登录日志\nconst env = process.env.NODE_ENV,\n  plugins = [];\nif (env === 'development') {\n  plugins.push(createLogger());\n}\nexport default new Vuex.Store({\n  state: {\n    profile: null,\n    goodsInfos: null\n  },\n  getters: {},\n  mutations: {\n    setProfile(state, info) {\n      state.profile = info;\n    },\n    setGoods(state, goodsInfo) {\n      state.goodsInfos = goodsInfo;\n    }\n  },\n  actions: {\n    async setProfileAsync({\n      commit\n    }) {\n      let info = null;\n      try {\n        let {\n          resultCode,\n          data\n        } = await api.adminProfile();\n        if (+resultCode === 200) {\n          //已经登录\n          info = data;\n          commit('setProfile', info);\n        }\n      } catch (_) {\n        console.log('错误：', _);\n      }\n      return info;\n    },\n    async setGoodsAdd({\n      commit\n    }) {\n      let goodsInfo = null;\n      try {\n        let {\n          resultCode,\n          data\n        } = await api.model.queryGoodsInfo();\n        if (+resultCode === 200) {\n          //已经登录\n          goodsInfo = data;\n          commit('setGoods', goodsInfo);\n        }\n      } catch (_) {\n        console.log('错误：', _);\n      }\n      return goodsInfo;\n    }\n  },\n  plugins\n});","map":{"version":3,"names":["Vue","Vuex","createLogger","api","use","env","process","NODE_ENV","plugins","push","Store","state","profile","goodsInfos","getters","mutations","setProfile","info","setGoods","goodsInfo","actions","setProfileAsync","commit","resultCode","data","adminProfile","_","console","log","setGoodsAdd","model","queryGoodsInfo"],"sources":["E:/北京珠峰练习/毕设/xinfeng-cms/src/store/index.js"],"sourcesContent":["import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport createLogger from 'vuex/dist/logger';\r\nimport api from \"@/api\"\r\n\r\n\r\n\r\nVue.use(Vuex)\r\n//登录日志\r\nconst env = process.env.NODE_ENV,\r\n  plugins = [];\r\nif (env === 'development') {\r\n  plugins.push(createLogger());\r\n}\r\n\r\nexport default new Vuex.Store({\r\n  state: {\r\n    profile: null,\r\n    goodsInfos: null,\r\n  },\r\n  getters: {\r\n  },\r\n  mutations: {\r\n    setProfile(state, info) {\r\n      state.profile = info;\r\n    },\r\n    setGoods(state, goodsInfo) {\r\n      state.goodsInfos = goodsInfo;\r\n    }\r\n  },\r\n  actions: {\r\n    async setProfileAsync({ commit }) {\r\n      let info = null;\r\n      try {\r\n        let { resultCode, data } = await api.adminProfile()\r\n        if (+resultCode === 200) {//已经登录\r\n          info = data;\r\n          commit('setProfile', info);\r\n        }\r\n\r\n      } catch (_) {\r\n        console.log('错误：', _);\r\n      }\r\n      return info;\r\n    },\r\n    async setGoodsAdd({ commit }) {\r\n      let goodsInfo = null;\r\n      try {\r\n        let { resultCode, data } = await api.model.queryGoodsInfo()\r\n        if (+resultCode === 200) {//已经登录\r\n          goodsInfo = data;\r\n          commit('setGoods', goodsInfo);\r\n        }\r\n\r\n      } catch (_) {\r\n        console.log('错误：', _);\r\n      }\r\n      return goodsInfo;\r\n    },\r\n  },\r\n  plugins\r\n})\r\n"],"mappings":";AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,IAAI,MAAM,MAAM;AACvB,OAAOC,YAAY,MAAM,kBAAkB;AAC3C,OAAOC,GAAG,MAAM,OAAO;AAIvBH,GAAG,CAACI,GAAG,CAACH,IAAI,CAAC;AACb;AACA,MAAMI,GAAG,GAAGC,OAAO,CAACD,GAAG,CAACE,QAAQ;EAC9BC,OAAO,GAAG,EAAE;AACd,IAAIH,GAAG,KAAK,aAAa,EAAE;EACzBG,OAAO,CAACC,IAAI,CAACP,YAAY,EAAE,CAAC;AAC9B;AAEA,eAAe,IAAID,IAAI,CAACS,KAAK,CAAC;EAC5BC,KAAK,EAAE;IACLC,OAAO,EAAE,IAAI;IACbC,UAAU,EAAE;EACd,CAAC;EACDC,OAAO,EAAE,CACT,CAAC;EACDC,SAAS,EAAE;IACTC,UAAU,CAACL,KAAK,EAAEM,IAAI,EAAE;MACtBN,KAAK,CAACC,OAAO,GAAGK,IAAI;IACtB,CAAC;IACDC,QAAQ,CAACP,KAAK,EAAEQ,SAAS,EAAE;MACzBR,KAAK,CAACE,UAAU,GAAGM,SAAS;IAC9B;EACF,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,eAAe,CAAC;MAAEC;IAAO,CAAC,EAAE;MAChC,IAAIL,IAAI,GAAG,IAAI;MACf,IAAI;QACF,IAAI;UAAEM,UAAU;UAAEC;QAAK,CAAC,GAAG,MAAMrB,GAAG,CAACsB,YAAY,EAAE;QACnD,IAAI,CAACF,UAAU,KAAK,GAAG,EAAE;UAAC;UACxBN,IAAI,GAAGO,IAAI;UACXF,MAAM,CAAC,YAAY,EAAEL,IAAI,CAAC;QAC5B;MAEF,CAAC,CAAC,OAAOS,CAAC,EAAE;QACVC,OAAO,CAACC,GAAG,CAAC,KAAK,EAAEF,CAAC,CAAC;MACvB;MACA,OAAOT,IAAI;IACb,CAAC;IACD,MAAMY,WAAW,CAAC;MAAEP;IAAO,CAAC,EAAE;MAC5B,IAAIH,SAAS,GAAG,IAAI;MACpB,IAAI;QACF,IAAI;UAAEI,UAAU;UAAEC;QAAK,CAAC,GAAG,MAAMrB,GAAG,CAAC2B,KAAK,CAACC,cAAc,EAAE;QAC3D,IAAI,CAACR,UAAU,KAAK,GAAG,EAAE;UAAC;UACxBJ,SAAS,GAAGK,IAAI;UAChBF,MAAM,CAAC,UAAU,EAAEH,SAAS,CAAC;QAC/B;MAEF,CAAC,CAAC,OAAOO,CAAC,EAAE;QACVC,OAAO,CAACC,GAAG,CAAC,KAAK,EAAEF,CAAC,CAAC;MACvB;MACA,OAAOP,SAAS;IAClB;EACF,CAAC;EACDX;AACF,CAAC,CAAC"},"metadata":{},"sourceType":"module"}