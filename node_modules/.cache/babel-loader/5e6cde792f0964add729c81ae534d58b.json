{"ast":null,"code":"import { VueEditor } from \"vue2-editor/dist/vue2-editor.core.js\";\nexport default {\n  name: \"Add\",\n  data() {\n    return {\n      radio: 3,\n      dialogImageUrl: '',\n      dialogVisible: false,\n      disabled: false,\n      content: '请输入正文',\n      num: 0,\n      num2: 0,\n      num3: 0,\n      props: {\n        lazy: true,\n        options: [],\n        async lazyLoad(node, resolve) {\n          try {\n            let {\n              resultCode,\n              data\n            } = await data.data.$api.dashboard.queryGoodsClassify(1, 1000, node.categoryLevel, node.value);\n            if (+resultCode === 200) {\n              this.options = data.list;\n              return;\n            }\n            this.$message.error('null');\n          } catch (_) {\n            console.log('错误：', _);\n          }\n          const nodes = this.options.map(item => ({\n            value: item.categoryId,\n            label: item.categoryName,\n            leaf: item.categoryLevel >= 2\n          }));\n          // 通过调用resolve将子节点数据返回，通知组件数据加载完成\n          resolve(nodes);\n        }\n      }\n    };\n  },\n  async created() {\n    this.handleChange(1, 1000, 1, 0);\n  },\n  methods: {\n    handleRemove(file) {\n      // console.log(file);\n    },\n    handlePictureCardPreview(file) {\n      this.dialogImageUrl = file.url;\n      this.dialogVisible = true;\n    },\n    handleDownload(file) {\n      // console.log(file);\n    },\n    async handleChange(pageNumber, pageSize, categoryLevel, parentId) {\n      try {\n        let {\n          resultCode,\n          data\n        } = await this.$api.dashboard.queryGoodsClassify(pageNumber, pageSize, categoryLevel, parentId);\n        if (+resultCode === 200) {\n          this.props.options = data.list;\n          console.log(this.props.options);\n          return;\n        }\n        this.$message.error('null');\n      } catch (_) {\n        console.log('错误：', _);\n      }\n    },\n    updateData(e) {\n      this.content = e;\n    },\n    handleImageAdded() {\n      // console.log('upload image');\n    }\n  },\n  components: {\n    VueEditor\n  }\n};","map":{"version":3,"mappings":"AAkFA;AACA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;QACA;UACA;YACA;cAAAC;cAAAZ;YAAA;YAEA;cACA;cACA;YACA;YACA;UACA;YACAa;UACA;UACA;YACAC;YACAC;YACAC;UACA;UACA;UACAC;QACA;MACA;IAEA;EACA;EACA;IACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;IACA;IACA;MACA;QACA;UAAAT;UAAAZ;QAAA;QAEA;UACA;UACAa;UACA;QACA;QACA;MACA;QACAA;MACA;IAEA;IACAS;MACA;IACA;IACAC;MACA;IACA;EACA;EACAC;IACAC;EACA;AAGA","names":["name","data","radio","dialogImageUrl","dialogVisible","disabled","content","num","num2","num3","props","lazy","options","resultCode","console","value","label","leaf","resolve","methods","handleRemove","handlePictureCardPreview","handleDownload","updateData","handleImageAdded","components","VueEditor"],"sourceRoot":"src/views/Dashboard","sources":["Add.vue"],"sourcesContent":["<template>\r\n    <div class=\"Add\">\r\n        <el-form ref=\"form\" label-width=\"80px\">\r\n\r\n            <el-form-item label=\"商品分类\">\r\n                <div class=\"block\">\r\n                    <el-cascader :props=\"props\"></el-cascader>\r\n                    <!-- <el-cascader v-bind=\"{ parentId: parentId, categoryLevel: categoryLevel }\" :options=\"options\"\r\n                        @change=\"handleChange(parentId, categoryLevel)\">\r\n                    </el-cascader> -->\r\n                </div>\r\n            </el-form-item>\r\n\r\n            <el-form-item label=\"商品名称\">\r\n                <el-input placeholder=\"请输入商品名称\"></el-input>\r\n            </el-form-item>\r\n\r\n            <el-form-item label=\"商品简介\">\r\n                <el-input type=\"textarea\" placeholder=\"请输入商品简介（100字）\"></el-input>\r\n            </el-form-item>\r\n\r\n            <el-form-item label=\"商品价格\">\r\n                <el-input-number controls-position=\"right\" :min=\"0\" v-model=\"num\" placeholder=\"请输入商品价格\">\r\n                </el-input-number>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品售卖价\">\r\n                <el-input-number controls-position=\"right\" placeholder=\"请输入商品售价\" :min=\"0\" v-model=\"num2\">\r\n                </el-input-number>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品库存\">\r\n                <el-input-number controls-position=\"right\" :min=\"0\" placeholder=\"请输入商品库存\" v-model=\"num3\">\r\n                </el-input-number>\r\n            </el-form-item>\r\n            <el-form-item label=\"商品标签\">\r\n                <el-input placeholder=\"请输入商品小标签\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"上架状态\">\r\n                <template>\r\n                    <el-radio-group v-model=\"radio\">\r\n                        <el-radio :label=\"3\">上架</el-radio>\r\n                        <el-radio :label=\"6\">下架</el-radio>\r\n                    </el-radio-group>\r\n                </template>\r\n            </el-form-item>\r\n\r\n            <el-form-item label=\"商品主图\">\r\n                <el-upload action=\"#\" list-type=\"picture-card\" :auto-upload=\"false\">\r\n                    <i slot=\"default\" class=\"el-icon-plus\"></i>\r\n                    <div slot=\"file\" slot-scope=\"{file}\">\r\n                        <img class=\"el-upload-list__item-thumbnail\" :src=\"file.url\" alt=\"\">\r\n                        <span class=\"el-upload-list__item-actions\">\r\n                            <span class=\"el-upload-list__item-preview\" @click=\"handlePictureCardPreview(file)\">\r\n                                <i class=\"el-icon-zoom-in\"></i>\r\n                            </span>\r\n                            <span v-if=\"!disabled\" class=\"el-upload-list__item-delete\" @click=\"handleDownload(file)\">\r\n                                <i class=\"el-icon-download\"></i>\r\n                            </span>\r\n                            <span v-if=\"!disabled\" class=\"el-upload-list__item-delete\" @click=\"handleRemove(file)\">\r\n                                <i class=\"el-icon-delete\"></i>\r\n                            </span>\r\n                        </span>\r\n                    </div>\r\n                </el-upload>\r\n                <el-dialog :visible.sync=\"dialogVisible\">\r\n                    <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\r\n                </el-dialog>\r\n            </el-form-item>\r\n\r\n            <el-form-item label=\"详情内容\">\r\n                <div class=\"editor-container\">\r\n\r\n                    <vue-editor id=\"editor\" useCustomImageHandler @imageAdded=\"handleImageAdded\" v-model=\"content\">\r\n                    </vue-editor>\r\n                    <el-button type=\"primary\">立即创建</el-button>\r\n                </div>\r\n\r\n            </el-form-item>\r\n        </el-form>\r\n    </div>\r\n</template>\r\n   \r\n<script>\r\nimport { VueEditor } from \"vue2-editor/dist/vue2-editor.core.js\";\r\nexport default {\r\n    name: \"Add\",\r\n    data() {\r\n        return {\r\n            radio: 3,\r\n            dialogImageUrl: '',\r\n            dialogVisible: false,\r\n            disabled: false,\r\n            content: '请输入正文',\r\n            num: 0,\r\n            num2: 0,\r\n            num3: 0,\r\n            props: {\r\n                lazy: true,\r\n                options: [],\r\n                async lazyLoad(node, resolve) {\r\n                    try {\r\n                        let { resultCode, data } = await data.data.$api.dashboard.queryGoodsClassify(1, 1000, node.categoryLevel, node.value)\r\n\r\n                        if (+resultCode === 200) {\r\n                            this.options = data.list;\r\n                            return;\r\n                        }\r\n                        this.$message.error('null')\r\n                    } catch (_) {\r\n                        console.log('错误：', _);\r\n                    }\r\n                    const nodes = this.options.map(item => ({\r\n                        value: item.categoryId,\r\n                        label: item.categoryName,\r\n                        leaf: item.categoryLevel >= 2\r\n                    }));\r\n                    // 通过调用resolve将子节点数据返回，通知组件数据加载完成\r\n                    resolve(nodes);\r\n                }\r\n            },\r\n\r\n        };\r\n    },\r\n    async created() {\r\n        this.handleChange(1, 1000, 1, 0)\r\n    },\r\n    methods: {\r\n        handleRemove(file) {\r\n            // console.log(file);\r\n        },\r\n        handlePictureCardPreview(file) {\r\n            this.dialogImageUrl = file.url;\r\n            this.dialogVisible = true;\r\n        },\r\n        handleDownload(file) {\r\n            // console.log(file);\r\n        },\r\n        async handleChange(pageNumber, pageSize, categoryLevel, parentId) {\r\n            try {\r\n                let { resultCode, data } = await this.$api.dashboard.queryGoodsClassify(pageNumber, pageSize, categoryLevel, parentId)\r\n\r\n                if (+resultCode === 200) {\r\n                    this.props.options = data.list;\r\n                    console.log(this.props.options);\r\n                    return;\r\n                }\r\n                this.$message.error('null')\r\n            } catch (_) {\r\n                console.log('错误：', _);\r\n            }\r\n\r\n        },\r\n        updateData(e) {\r\n            this.content = e;\r\n        },\r\n        handleImageAdded() {\r\n            // console.log('upload image');\r\n        }\r\n    },\r\n    components: {\r\n        VueEditor\r\n    },\r\n\r\n\r\n};\r\n</script> \r\n  \r\n<style lang=\"less\" scoped>\r\n@import \"~vue2-editor/dist/vue2-editor.css\";\r\n/* Import the Quill styles you want */\r\n@import \"~quill/dist/quill.core.css\";\r\n@import \"~quill/dist/quill.bubble.css\";\r\n@import \"~quill/dist/quill.snow.css\";\r\n\r\n.Add {\r\n    position: relative;\r\n    box-sizing: border-box;\r\n    padding: 20px;\r\n    margin-bottom: 50px;\r\n    border-radius: 4px;\r\n    border: 1px solid #ebeef5;\r\n    background-color: #fff;\r\n    box-shadow: 0 2px 12px 0 rgb(0 0 0 / 10%);\r\n\r\n\r\n    :deep(#editor) {\r\n        height: 300px;\r\n        margin-bottom: 20px;\r\n    }\r\n\r\n    :deep(.el-form-item__label) {\r\n        width: 82px !important;\r\n    }\r\n\r\n    :deep(.el-form-item__content) {\r\n        margin-left: 82px !important;\r\n    }\r\n\r\n    /deep/input {\r\n        width: 298px;\r\n        height: 38px;\r\n        padding: 0 15px;\r\n    }\r\n\r\n    /deep/.el-textarea {\r\n        width: 298px;\r\n        height: 38px;\r\n        box-sizing: border-box;\r\n    }\r\n\r\n    /deep/.el-input-number {\r\n        width: 298px;\r\n    }\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}